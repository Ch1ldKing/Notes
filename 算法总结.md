# 选择第i大的数
BFPRT算法，中位数的中位数算法
最坏情况$O(n)$
1. **分组**：将原数组分为每组5个元素的多个小组，如果数组大小不是5的倍数，最后一组可能包含小于5个的元素
2. **排序小组**：对每个小组内的元素进行排序（通常使用插入排序，因为当 n 较小时，插入排序非常高效）
3. **找中位数**：从每个已排序的小组中选出中位数，构成一个新的“中位数数组”
4. **找中位数的中位数**：再对这个中位数数组采用本算法找到中位数（递归直到中位数数组只有一个元素，再返回）
5. **分区**：将该元素作为枢轴，此时数组分为三部分。如果要找的$i<k$,即$i$比左侧数组的元素数量小，那么就在左侧递归此算法，寻找这个数
> 例子：### 示例数据和目标

假设我们有一个无序数组：7,2,1,6,8,5,3,47,2,1,6,8,5,3,4，我们要找到第3小的元素。以下是使用类似 BFPRT 算法的过程：

### 步骤1: 选择枢轴

为了简化，我们直接选取中位数的中位数作为枢轴（实际应用中会更复杂，涉及到分组、排序等）。假设我们通过一定的方法选择了 5 作为枢轴。

### 步骤2: 分区

使用枢轴 5 对数组进行分区，分区操作后的数组可能看起来如下：

- 小于5的部分：2,1,4,32,1,4,3
- 等于5的部分：55
- 大于5的部分：7,6,87,6,8

### 步骤3: 判断 �k 的位置

现在，我们要找第3小的元素。由于小于枢轴的部分有四个元素，而我们寻找的是第3小的元素，这意味着我们需要在左侧部分 2,1,4,32,1,4,3 中继续寻找。

### 步骤4: 递归搜索左侧部分

现在，目标变为在新的数组 2,1,4,32,1,4,3 中找到第3小的元素。我们可以再次进行类似的枢轴选择和分区操作。为了简化，假设我们选择 3 作为新的枢轴，进行分区：

- 小于3的部分：2,12,1
- 等于3的部分：33
- 大于3的部分：44

因为我们要找的是第3小的元素，且小于3的部分只有两个元素，我们知道第3小的元素就是新枢轴 3。