# 第三章 服务构件与服务组合
## 服务构件
### 一、服务要素与服务构件
**服务要素**：人、技术、共享信息
服务要素可组合，形成**复合要素**
#### 虚拟化
按原则，将非软件化的服务要素 以**软件化形式**体现，设计访问接口，然后Web服务发布，使IT服务系统与业务服务**一致**
#### 基于SCA的服务系统
服务系统 == 服务集合
SCA System由多个子系统SubSystem和多个模块Modules组合
##### 服务子系统SubSystem
可组合外部服务，组合模块组件，形成服务的入口点
##### 服务模块Module
装配了Components、 External Services、 Entry Points
**特性**：
1. 内部组件不能被外部模块直接引用
2. 内组件通讯采用Local方式，模块间组件通讯采用Remote方式
3. 部署单元，业务逻辑工件(artifacts)组装
##### 服务模块构件Module Component
这里module component指的只是module的配置后的实例，module是一个有功能的接口，但是没配置，部署起来可以直接用就是module component
通过Entry Points可以绑定外部服务或与其他模块或服务等通信，也可以作为外部服务被调用访问
##### SCA构件Component
同上，是作为SCA的配置实例，实现了构件的某些接口
暴露接口，为Java或WSDL，可供调用
##### 服务构件Service Component
**定义**：服务构件架构SCA中的基本组成元素和基本构建单位， 是具体实现业务逻辑的基本单元。 它是SCA中紧耦合组合的“最大组织单元” ， 也是松耦合组合的“基本组织单元
**作用**：将服务要素进行全面描述并统一封装，以便于进行选取、重用与组合
![[Pasted image 20241109084227.png]]
#### SCA
**思想**：把业务功能作为一系列服务组封装在一起，以满足特定的业务需求
**作用**：为组合服务，重用服务和创建服务构件（组件）提供了一种模型。
**定义**：SCA是一种基于服务的模型，用来构建SOA应用程序和解决方案，组合和部署新的或已存在的服务
**特性**：SOA的本质特性在于可以通过组合新的或已存在的服务来创建新的应用服务，而这些组成新服务的原子服务可以由不同的技术来开发实现
#### 服务构件描述
##### WSDL
基本信息和接口信息
##### OWL-S
还包括功能语义
使用一系列基本类和属性来描述Web 服务
#### 服务构件要素
用户交互，调用，组合，业务构件（业务逻辑经过封装构建，有接口和实现），数据和信息
这些服务构件要素可以通过不同的服务构件实现
![[Pasted image 20241109085216.png]]
### 二、服务构件类型及模型
#### Web Service Web服务
Web服务的基本协议 ：WSDL统一服务接口描述，UDDI通用描述和发现接口规范，SOAP统一数据传输和交换格式，HTTP传输
##### Web服务体系结构
发现订阅那一套
![[Pasted image 20241109090827.png]]
##### WSHumanTask、BPEL4People
人工活动虚拟化，异步执行
BPEL扩展为同时支持对Web服务和基于角色的人工活动进行编排
##### REST
**无状态**，轻量，用于调用服务（但一切都被抽象为资源），每个资源都有**唯一资源标识符**，任何操作无状态**不改变资源标识符**，但针对不同服务使用者有不同的具体表示状态
提供接口给外部世界，并且提供操作服务（GET，POST等）
#### 服务构件体系结构SCA
**概念**：编程模型，能方便快速地构建服务系统和应用
**基本组成**：构件是SCA中的基本组成元素和基本构建单位
**接口**：基于WSDL或Java的规范
##### 构件的元素和模型
![image.png](https://s2.loli.net/2024/11/09/KEPgbGvJM3Fy5h6.png)

左侧是该构件实现的功能（提供的**服务**），右侧是**引用**的其他服务或程序
他们可以**绑定**其他服务，体现出交互通信
构件具有**属性**，可能也会同时配置给一些内部的基础服务，内部服务遵循以上模型
##### 构件机制
内部通过业务逻辑组件运作，这些业务组件可以调用外部服务和数据，并且可作为外部服务和数据供外部调用（**双向的**），
##### SCA的实现
各种语言都可以
##### SCA服务模块
是SCA的**运行单位**，由许多有业务联系的SCA构件组成并部署，一般来说能满足一个完整的服务需求
##### SDO服务数据对象
异构数据源的抽象层，统一方式规范数据接入，支持通用数据操作
基本要素：以**数据对象**为核心进行操作和存储，其指向**元数据**，提供yuan'shu'j
