# Preface
## IA-32架构与模式支持

- **IA-32架构**从Intel 386处理器系列开始，为**操作系统**和**系统开发软件**提供了全面支持。
- 这种支持包括多种**运行模式**：
    - **实模式（Real Mode）：** 最基础的模式，类似于老式的8086处理器，只能访问1MB内存。
    - **保护模式（Protected Mode）：** 允许访问更大的内存空间，并提供多种保护机制，用于多任务和进程隔离。
    - **虚拟8086模式（Virtual 8086 Mode）：** 在保护模式下模拟8086处理器的环境，用于运行旧的16位程序。
    - **系统管理模式（System Management Mode，SMM）：** 一种特殊模式，用于电源管理或硬件资源管理。

这些属于遗留的模式，由于系统开发问题，他们在386之后的处理器上保留了下来
##  Intel 64 架构及 IA-32e 模式
**Intel 64架构**扩展了IA-32架构，支持**64位环境**，并新增了一种模式：
- **IA-32e模式：** 用于64位程序开发的环境。在这个模式下，存在两种**子模式**：
    - **64位模式（64-bit Mode）：** 支持64位操作系统和应用程序。
    - **兼容模式（Compatibility Mode）：** 允许旧版（32位）的软件在64位操作系统中运行，与64位应用共存。

该架构拓展原有架构，以支持64位的环境，并且新模式可以兼容老程序

## 架构中共有的系统级功能
- **内存管理（Memory Management）：** 支持虚拟内存和内存保护。
- **软件模块保护（Protection of Software Modules）：** 通过权限和隔离机制保护进程。
- **多任务（Multitasking）：** 支持多个程序同时运行。
- **异常与中断处理（Exception and Interrupt Handling）：** 管理错误和硬件事件的响应。
- **多处理器支持（Multiprocessing）：** 支持多核或多处理器并行执行。
- **缓存管理（Cache Management）：** 提升性能的缓存优化机制。
- **硬件资源与电源管理（Hardware Resource and Power Management）：** 高效地管理硬件资源和电力消耗。
- **调试与性能监控（Debugging and Performance Monitoring）：** 协助开发者进行系统调试和性能优化。

首先是最重要的内存机制，包括对内存的虚拟化，通过权限保护内存中进程，隔离进程不受干扰，优化缓存，并且可以对异常进程进行处理。其次是对多处理器的适配，以及可以监控系统性能与硬件资源
## 模式切换
初始化流程：
通过**系统级指令**与**系统级寄存器**，可以实现模式的切换。通过**上电或复位（reset）** 进行切换**实地址模式**，可以继续通过软件切换到**保护模式**，再从保护模式切换到**IA-32e模式**。

# 2.1 系统架构概览
