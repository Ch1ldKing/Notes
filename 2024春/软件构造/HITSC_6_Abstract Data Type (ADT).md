# Abstraction and User-Defined Types
📕数据抽象：指由一组操作所刻画的数据类型
传统的类型关注数据的具体表示，而抽象类型强调“作用于数据上的操作”，无需关注数据如何存储，而是设计并使用操作
即**ADT是由操作定义的，与其内部如何实现无关！**
比如，定义一个抽象的Bool类，Bool可以由很多的东西实现，但它的操作决定了它的性质
![image.png](https://s2.loli.net/2024/05/27/cG5dP7om1JSClVT.png)
# 类型与操作
## 类型
可变类型和不可变类型
**区别**：可变类型提供了可改变内部数据的值的操作，而不变类型只能构造新的对象
## 操作
### 构造器
初始化对象的状态，包括底层数据结构等，同时验证不变性，有以下说法：
1. 可以不带参数，并创造一个空对象
2. 可以不带参数，并创造一个有初始默认值的对象
3. 可以带参数，创造一个初始化对象
### 变值器
如果返回值为void，则必然意味着它改变了对象的某些内部状态
也有可能非空
# ADT举例
![image.png](https://s2.loli.net/2024/05/27/Lxfc6sNFXORrZMC.png)
# 设计ADT
设计好的ADT，靠“经验法则”，提供一组操作，设计其行为规约 spec
1. 设计简洁、一致的操作
2. 足以支持client对数据所做的所有操作需要，且用操作满足client需要的难度要低
3. 要么抽象、要么具体，不要混合---要么针对抽象设计，要么针对具体应用的设计
# 表示独立性
表示独立性：client使用ADT时无需考虑其内部如何实现，ADT内部表示的变化不应影响外部spec和客户端
这意味着当我们对代码进行优化时，我们无需通知客户端也无需修改客户端代码，因为优化后仍然满足spec。这就是RI的作用
🌰例子：