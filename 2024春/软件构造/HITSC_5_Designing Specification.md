###### ç›®æ ‡
è§„çº¦ï¼Œå‰ç½®åç½®æ¡ä»¶ï¼Œæ¬ å®šè§„çº¦ã€éç¡®å®šè§„çº¦ã€é™ˆè¿°å¼ã€æ“ä½œå¼è§„çº¦ã€è§„çº¦çš„å¼ºåº¦åŠå…¶æ¯”è¾ƒ
# è§„çº¦
#### ä½œç”¨
1. ç»™è‡ªå·±å’Œåˆ«äººå†™å‡ºè®¾è®¡å†³ç­–ï¼šå¦‚finalã€æ•°æ®ç±»å‹å®šä¹‰
2. ä½œä¸ºå¥‘çº¦ï¼ŒæœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯è¾¾æˆä¸€è‡´
3. è°ƒç”¨æ–¹æ³•æ—¶åŒæ–¹éƒ½è¦éµå®ˆ
4. ä¾¿äºå®šä½é”™è¯¯
5. è§£è€¦ï¼Œæ— éœ€å‘Šè¯‰å®¢æˆ·ç«¯å…·ä½“å®ç°ï¼Œå˜åŒ–ä¹Ÿæ— éœ€é€šçŸ¥å®¢æˆ·ç«¯ï¼Œæ‰®æ¼”**é˜²ç«å¢™**è§’è‰²
6. åˆ¤æ–­è¡Œä¸ºç­‰ä»·æ€§
## å†…å®¹
1. è¾“å…¥è¾“å‡ºçš„æ•°æ®ç±»å‹
2. åŠŸèƒ½å’Œæ­£ç¡®æ€§
3. æ€§èƒ½
## è¡Œä¸ºç­‰ä»·æ€§
ç«™åœ¨å®¢æˆ·ç«¯è§†è§’çœ‹ä¸€ä¸ªè¡Œä¸ºæ˜¯å¦å…·æœ‰ç­‰ä»·æ€§ã€‚å¦‚æœä¸¤ä¸ªå‡½æ•°éƒ½**ç¬¦åˆåŒä¸€ä¸ªSpec**ï¼Œåˆ™ä»–ä»¬ç­‰ä»·
## Specçš„ç»“æ„
1. **å‰ç½®æ¡ä»¶**ï¼šå¯¹å®¢æˆ·ç«¯çš„çº¦æŸï¼Œåœ¨ä½¿ç”¨æ–¹æ³•æ—¶å¿…é¡»æ»¡è¶³çš„æ¡ä»¶ï¼Œç”¨`@param`ï¼Œå¹¶ç”¨`@requires`è¿›è¡Œè¯´æ˜
3. **åç½®æ¡ä»¶**ï¼šå¯¹å¼€å‘è€…çš„çº¦æŸï¼Œæ–¹æ³•ç»“æŸæ—¶å¿…é¡»æ»¡è¶³çš„æ¡ä»¶ï¼Œç”¨`@return`å’Œ`@throws`ï¼Œå¹¶ç”¨`@effects`è¿›è¡Œæè¿°
4. å¥‘çº¦ï¼šå‰ç½®æ¡ä»¶æ»¡è¶³äº†ï¼Œåˆ™åç½®æ¡ä»¶å¿…é¡»æ»¡è¶³
Specä¸éœ€è¦è¯´æ˜æ–¹æ³•å†…éƒ¨å˜é‡å’Œç±»çš„ç§æœ‰æ–¹æ³•æˆ–å˜é‡
ğŸ˜€æ–¹æ³•å†…éƒ¨å°½é‡ä¸è¦ä¿®æ”¹ä¼ å…¥çš„å‚æ•°ï¼Œä¸è¦è®¾è®¡mutatingçš„specï¼Œå®¹æ˜“å¼•å‘é”™è¯¯ã€‚é™¤éå¿…é¡»æ˜¯mutatoræ–¹æ³•çš„specï¼Œå¦åˆ™é¿å…ä½¿ç”¨mutableçš„ç±»ä¸æ–¹æ³•ã€‚
ğŸ“•å› ä¸ºç¨‹åºä¸­å¾ˆæœ‰å¯èƒ½æœ‰**å¤šä¸ªå˜é‡æŒ‡å‘åŒä¸€ä¸ªå¯å˜å¯¹è±¡**ï¼ˆåˆ«åï¼‰ï¼Œåœ¨ç±»çš„å®ç°ä½“æˆ–å®¢æˆ·ç«¯**ä¿å­˜åˆ«å**çš„æƒ…å†µä¸‹ï¼Œå¯èƒ½å¯¼è‡´ä¿®æ”¹å¹¶äº§ç”Ÿbug
åŒæ—¶é¿å…ä½¿ç”¨å¯å˜çš„å…¨å±€å˜é‡
ğŸŒ°ä¾‹å­ï¼š
å®¢æˆ·ç«¯ä¸ºäº†ç”¨æˆ·éšç§ï¼Œå› æ­¤éšè—äº†idå‰5ä½
```Java
char[] id = getMitId("bitdiddle");
for (int i = 0; i < 5; ++i) {
    id[i] = '*';
}
System.out.println(id);
```
æœåŠ¡ç«¯æ‹…å¿ƒæ•ˆç‡ï¼Œæ‰€ä»¥é‡‡ç”¨äº†cacheå…¨å±€å¯å˜å˜é‡(char\[\]å¯å˜)
```Java
private static Map<String, char[]> cache = new HashMap<String, char[]>();

public static char[] getMitId(String username) throws NoSuchUserException {
    // see if it's in the cache already
    if (cache.containsKey(username)) {
        return cache.get(username);
    }

    // ... look up username in MIT's database ...

    // store it in the cache for future lookups
    cache.put(username, id);
    return id;
}
```
ç”±äºchar\[\]å¯å˜ï¼Œä¿®æ”¹å‰äº”ä½ä¼šå¯¼è‡´Mapä¸­çš„æ•°æ®ä¹Ÿè¢«æ›´æ”¹ã€‚æ‰€ä»¥æœ€å¥½é‡‡ç”¨String
# è®¾è®¡è§„çº¦
## å¯¹è§„çº¦åˆ†ç±»
é€šè¿‡è§„çº¦çš„<mark style="background: #BBFABBA6;">ç¡®å®šæ€§ã€é™ˆè¿°æ€§ã€å’Œå¼ºåº¦</mark>æ¥åˆ¤æ–­â€œå“ªä¸ªæ›´å¥½â€
### æŒ‰å¼ºåº¦
å‰ç½®æ¡ä»¶æ›´å¼±ä¸”åç½®æ¡ä»¶æ›´å¼º
ä¹Ÿå¯èƒ½æ— æ³•æ¯”è¾ƒï¼š
+ å­˜åœ¨æŸäº›å®ç°åŒæ—¶æ»¡è¶³ ğ‘†1â€‹ å’Œ ğ‘†3â€‹ï¼Œä¹Ÿå­˜åœ¨æŸäº›å®ç°åªæ»¡è¶³ ğ‘†1â€‹ æˆ– ğ‘†3â€‹
+ æ²¡æœ‰å®ç°åŒæ—¶æ»¡è¶³ä¸¤è€…
### æ¬ å®š/ç¡®å®šè§„çº¦
ç¡®å®šï¼šç»™å®šä¸€ä¸ªæ»¡è¶³preconditionçš„è¾“å…¥ï¼Œå…¶è¾“å‡ºæ˜¯**å”¯ä¸€çš„ã€æ˜ç¡®çš„**
æ¬ å®šï¼šåŒä¸€ä¸ªè¾“å…¥å¯ä»¥æœ‰å¤šä¸ªåˆæ³•è¾“å‡ºï¼Œé€šå¸¸æœ‰ç¡®å®šçš„å®ç°
éç¡®å®šï¼šåŒä¸€ä¸ªè¾“å…¥ï¼Œå¤šæ¬¡æ‰§è¡Œæ—¶å¾—åˆ°çš„è¾“å‡ºå¯èƒ½ä¸åŒ
### æ“ä½œå¼/å£°æ˜å¼è§„çº¦
æ“ä½œå¼ï¼šä¾‹å¦‚ä¼ªä»£ç ï¼Œç”¨å®ƒè§£é‡ŠæœåŠ¡ç«¯å®ç°çš„ç»†èŠ‚ã€‚ä½†æœ€å¥½ä¸è¦ä½¿ç”¨å®ƒï¼ŒæŠŠå®ç°ç»†èŠ‚æ”¾åœ¨å®ç°ä½“å†…éƒ¨æ³¨é‡Šè€Œä¸æ˜¯è§„çº¦ä¸­
å£°æ˜å¼ï¼šæ²¡æœ‰å†…éƒ¨å®ç°çš„æè¿°ï¼Œåªæœ‰è¾“å…¥å¾—åˆ°è¾“å‡º
ğŸŒ°ä¾‹å­ï¼š![image.png](https://s2.loli.net/2024/05/27/uCVDdlh7ESWUqiQ.png)
ç¬¬ä¸€ä¸ªè¯´äº†ä¼ åˆ°ä¸€ä¸ªæ–°çš„ç±»ï¼Œä½†è¿™æ˜¯å…·ä½“å®ç°ç»†èŠ‚
ç¬¬äºŒä¸ªè¯´äº†éå†æ‰€æœ‰å…ƒç´ ï¼Œè¿™ä¹Ÿæ˜¯å…·ä½“å®ç°ç»†èŠ‚
## å›¾ä¾‹è§„çº¦
è§„çº¦é™å®šäº†èŒƒå›´ï¼Œå¯é€‰æ‹©è½åœ¨è§„çº¦ä¸­çš„ä»»æ„å…·ä½“å®ç°![image.png](https://s2.loli.net/2024/05/27/dUwMg2x4pasChIn.png)
æ›´å¼ºçš„è§„çº¦è¡¨ç¤ºä¸ºæ›´å°çš„åŒºåŸŸã€‚æ¯”å¦‚æ›´å¼ºçš„åç½®æ¡ä»¶ã€æ›´å¼±çš„å‰ç½®æ¡ä»¶éƒ½æ„å‘³ç€å®ç°çš„è‡ªç”±åº¦æ›´ä½![image.png](https://s2.loli.net/2024/05/27/RxC4LrI6HmskEwD.png)
## è®¾è®¡å¥½çš„è§„çº¦
å¥½çš„æ–¹æ³•ï¼šå¹¶éä»£ç å¥½ï¼Œè€Œæ˜¯specçš„è®¾è®¡ï¼Œä½¿clientç”¨ç€èˆ’æœï¼Œå¼€å‘è€…ç¼–ç€èˆ’æœ
### 1.å†…èšçš„
Specæè¿°çš„æ–¹æ³•åº”å•ä¸€ã€ç®€å•ã€æ˜“ç†è§£
åˆ†ç¦»ï¼šè§„çº¦åšäº†ä¸¤ä»¶äº‹ï¼Œæ‰€ä»¥è¦åˆ†ç¦»å¼€å½¢æˆä¸¤ä¸ªæ–¹æ³•ã€‚å¯ä»¥ä½¿specæ›´å®¹æ˜“ç†è§£ï¼Œä¸”è€¦åˆæ€§ä½åº”å¯¹å˜åŒ–ã€‚å¦‚ä¸‹
```Java
public static int LONG_WORD_LENGTH = 5;
public static String longestWord;

/**
 * Update longestWord to be the longest element of words, and print
 * the number of elements with length > LONG_WORD_LENGTH to the console.
 * @param words list to search for long words
 */
public static void countLongWords(List<String> words) {}
```
### 2.ä¿¡æ¯ä¸°å¯Œçš„
ä¸èƒ½å¼•èµ·å®¢æˆ·ç«¯çš„æ­§ä¹‰
ğŸŒ°ä¾‹å­ï¼šå®¢æˆ·ç«¯ä¸çŸ¥é“è¿”å›nullæ˜¯å› ä¸º
```Java
static V put(Map<K,V> map, K key, V val)
/**
* requires: val may be null, and map may contain null values
* effects: inserts (key, val) into the mapping,
         overriding any existing mapping for key, and
         returns old value for key, unless none,
         in which case it returns null
*/
```
